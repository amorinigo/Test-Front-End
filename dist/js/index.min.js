!function o(c,s,i){function u(t,e){if(!s[t]){if(!c[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[t]={exports:{}};c[t][0].call(a.exports,function(e){return u(c[t][1][e]||e)},a,a.exports,o,c,s,i)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<i.length;e++)u(i[e]);return u}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,a=(n=e("./Newsletter"))&&n.__esModule?n:{default:n};var o=function(){(0,a.default)()};r.default=o},{"./Newsletter":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=e("../../utils/helpers"),n=function(){try{!function(){var a=document.querySelector(".footer .newsletter .newsletter__form"),t=a.querySelector('button[type="submit"]');a.addEventListener("submit",function(e){return r(e)});var r=function(e){e.preventDefault();var t=Object.fromEntries(new FormData(e.target)),r=o(t),n=r.isValidForm,a=r.errors;c(!0),s(a),n?i(t):c(!1)},o=function(e){var t,r,n=null===(t=e.name)||void 0===t?void 0:t.toLowerCase().trim(),a=null===(r=e.email)||void 0===r?void 0:r.toLowerCase().trim(),o=JSON.parse(localStorage.getItem("emailsSentNL"))||[],c=l.nameRegex.test(n),s=l.emailRegex.test(a),i=o&&!o.includes(a);return{isValidForm:c&&s&&i,errors:{name:!c,email:!s,uniqueEmail:!i}}},c=function(e){e?(t.setAttribute("disabled","true"),t.classList.add("loading")):(t.removeAttribute("disabled"),t.classList.remove("loading"))},s=function(e){var t=a.querySelector(".newsletter__form-field.name"),r=a.querySelector(".newsletter__form-field.email"),n=a.nextElementSibling.querySelector(".msg.email");null!=e&&e.name?t.classList.add("is-error"):t.classList.remove("is-error"),null!=e&&e.email?r.classList.add("is-error"):r.classList.remove("is-error"),null!=e&&e.uniqueEmail?n.classList.add("is-error"):n.classList.remove("is-error")},i=function(e){var t={email:e.email.trim(),name:e.name.trim()},r={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",redirect:"manual"}};fetch("https://corebiz-test.herokuapp.com/api/v1/newsletter",r).then(function(e){return e.json()}).then(function(e){"error"===e.status?n("error"):(n("success"),u(t.email))}).catch(function(e){return n("error")})},n=function(e){var t=a.nextElementSibling.querySelector(".msg.success"),r=a.nextElementSibling.querySelector(".msg.error");"success"===e?(t.classList.add("show"),r.classList.remove("show"),setTimeout(function(){return t.classList.remove("show")},3e3)):(r.classList.add("show"),t.classList.remove("show"),setTimeout(function(){return r.classList.remove("show")},3e3)),c(!1),a.reset()},u=function(e){var t=JSON.parse(localStorage.getItem("emailsSentNL"))||[];t.push(e),localStorage.setItem("emailsSentNL",JSON.stringify(t))}}()}catch(e){console.log(e)}};r.default=n},{"../../utils/helpers":10}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(){var r=document.querySelector(".navbar .menu");try{document.querySelector(".navbar .menu .menu__icon").addEventListener("click",function(){return r.classList.toggle("active")})}catch(e){console.log(e)}try{document.querySelector(".navbar .menu .menu__content").addEventListener("click",function(e){var t=e.target;(t.classList.contains("menu__content")||t.classList.contains("menu__sidenav-icon"))&&r.classList.remove("active")})}catch(e){console.log(e)}};r.default=n},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.updateMinicart=r.default=void 0;var l=e("../../utils/helpers"),n=function(){var s,t=document.querySelector(".minicart__sidenav .minicart__sidenav-body"),e=JSON.parse(localStorage.getItem("purchasedProducts"))||[],r=function(e){e?(t.classList.remove("show-msg"),t.classList.add("show-products")):(t.classList.remove("show-products"),t.classList.add("show-msg"))};0===e.length?r(!1):((s=t.querySelector(".minicart__products")).innerHTML="",e.reverse().forEach(function(e){var t=e.productName,r=e.imageUrl,n=e.quantity,a=e.productId,o=e.listPrice,c=e.price;s.innerHTML+='\n                <div class="minicart__product">\n                    <div class="minicart__product-thumbnail">\n                        <img alt="'.concat(t,'" src="').concat(r,'" class="minicart__product-img" />\n                    </div>\n\n                    <div class="minicart__product-info">\n                        <div class="info-top">\n                            <p class="name">\n                                <span>').concat(t,'</span>\n                                <span class="units">').concat(n,' U.</span>\n                            </p>\n                            <i class="icon-trash" data-productid="').concat(a,'"></i>\n                        </div>\n\n                        <span class="info-prices">\n                            ').concat(o?'<em class="old-price">'.concat((0,l.toBrReal)(o*n),"</em>"):"",'\n                            <em class="best-price">').concat((0,l.toBrReal)(c*n),"</em>\n                        </span>\n                    </div>\n                </div>\n            ")}),r(!0));var n,a;try{n=document.querySelector(".minicart .minicart__icon .minicart__quantity"),a=(0,l.getTotalQuantityOf)(e),n.textContent=99<a?"+99":a}catch(e){console.log(e)}var o,c,i,u;try{o=document.querySelector(".sidenav-footer__subtotal .number"),c=document.querySelector(".sidenav-footer__total .number"),i=(0,l.getSubtotalOf)(e),u=(0,l.getTotalOf)(e),o.textContent=(0,l.toBrReal)(i),c.textContent=(0,l.toBrReal)(u)}catch(e){console.log(e)}};r.updateMinicart=n;var a=function(){n()};r.default=a},{"../../utils/helpers":10}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=c(e("./Menu")),a=c(e("./Minicart")),o=c(e("./Searcher"));function c(e){return e&&e.__esModule?e:{default:e}}var s=function(){(0,n.default)(),(0,o.default)(),(0,a.default)()};r.default=s},{"./Menu":3,"./Minicart":4,"./Searcher":6}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=e("../../utils/helpers"),n=function(){try{!function(){var r,e=document.querySelector(".searcher__form .searcher__form-input"),t=document.querySelector(".searcher .searcher__modal");e.addEventListener("input",function(){return e=n,t=500,window.clearTimeout(r),void(r=window.setTimeout(e,t));var e,t},!1);var n=function(){var t=(0,s.resetText)(e.value);""!==t?(0,s.getProducts)().then(function(e){return a(e,t)}).catch(function(e){return a([])}):o("any")},a=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=(0,s.getProductsWithName)(e,t);0<r.length?(c(r),o("results")):o("message")},o=function(e){switch(e){case"results":t.classList.remove("show-message"),t.classList.add("show-results");break;case"message":t.classList.remove("show-results"),t.classList.add("show-message");break;case"any":t.classList.remove("show-message"),t.classList.remove("show-results");break;default:t.classList.remove("show-message"),t.classList.remove("show-results")}},c=function(e){var a=document.querySelector(".searcher__modal-results .modal-results__products");a.innerHTML="",e.forEach(function(e){var t=e.imageUrl,r=e.productName,n=(0,s.toCapitalize)(r);a.innerHTML+='\n                    <a class="product" href="#">\n                        <div class="product__thumbnail">\n                            <img src="'.concat(t,'" alt="').concat(n,'" class="product__thumbnail-img" />\n                        </div>\n\n                        <span class="product__name">').concat(n,"</span>\n                    </a>\n                ")})}}()}catch(e){}try{!function(){var c=document.querySelector(".searcher .searcher__form"),e=document.querySelector(".searcher__modal .modal-results__button");c.addEventListener("submit",function(e){return t(e)}),e.addEventListener("click",function(e){return t(e)});var t=function(e){var t,r,n;e.preventDefault();var a=null===(t=c.querySelector(".searcher__form-input"))||void 0===t?void 0:null===(r=t.value)||void 0===r?void 0:null===(n=r.trim())||void 0===n?void 0:n.toLowerCase();if(""!==a){var o="".concat(location.origin,"/?search=").concat(a);location.href=o}}}()}catch(e){}};r.default=n},{"../../utils/helpers":10}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(){new Swiper(".swiper.main-slider",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0}})};r.default=n},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=e("../common/navbar/Minicart"),u=e("../utils/helpers"),n=function(){var s;try{s=document.querySelector(".products-slider__swiper .swiper-wrapper"),(0,u.getProducts)().then(function(e){e.forEach(function(e){var t=e.imageUrl,r=e.productName,n=e.stars,a=e.listPrice,o=e.price,c=e.installments;e.productId,s.innerHTML+='\n                        <div class="swiper-slide">\n                            <div class="card">\n                                <div class="card__top">\n                                    <a class="card__thumbnail" href="#">\n                                        <img src="'.concat(t,'" class="card__img" alt="').concat((0,u.toCapitalize)(r),'" />\n                                        ').concat(a?'<span class="discount">Off</span>':"",'\n                                    </a>\n\n                                    <div class="card__content">\n                                        <h6 class="card__product-name">').concat((0,u.resetText)(r),'</h6>\n                                        <span class="card__product-stars stars-').concat(n,'"></span>\n                                        <div class="prices">\n                                            ').concat(a?'<span class="old-price">de '.concat((0,u.toBrReal)(a).replace("R",""),"</span>"):"",'\n                                            <span class="final-price">por ').concat((0,u.toBrReal)(o).replace("R",""),"</span>\n                                        </div>\n                                        ").concat(0<c.length?'\n                                            <span class="installments">\n                                                ou em '.concat(c[0].quantity,"x de ").concat((0,u.toBrReal)(c[0].value),"\n                                            </span>\n                                            "):"",'\n                                    </div>\n                                </div>\n\n                                <span class="card__button dark-button" data-productId="').concat(e.productId,'">\n                                    Comprar\n                                </span>\n                            </div>\n                        </div>\n                    ')}),new Swiper(".swiper.products-slider__swiper",{pagination:{el:".products-swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1,spaceBetween:30,breakpoints:{380:{slidesPerView:2},600:{slidesPerView:3},1100:{slidesPerView:4,spaceBetween:99}}}),s.parentElement.classList.add("finished"),t()}).catch(function(e){return console.log(e)})}catch(e){console.log(e)}var t=function(){Array.from(document.querySelectorAll(".card span.card__button")).forEach(function(e){e.addEventListener("click",function(e){return t(e)})});var a=function(e,t){t?e.classList.add("loading"):e.classList.remove("loading")},t=function(e){var r=e.target.parentElement,n=e.target.dataset.productid;a(r,!0),(0,u.getProducts)().then(function(e){var t=(0,u.getProductById)(e,n);o(t),(0,c.updateMinicart)(),a(r,!1)}).catch(function(e){alert("Ha ocurrido un error."),a(r,!1)})},o=function(e){var t=e.imageUrl,r=e.price,n=e.listPrice,a=e.productId,o=e.productName,c=JSON.parse(localStorage.getItem("purchasedProducts"))||[],s=(0,u.getProductById)(c,a);c=(0,u.getProductsWithout)(c,a);var i={imageUrl:t,price:r,listPrice:n,productId:a,productName:o,quantity:s?Number(null==s?void 0:s.quantity)+1:1};c.push(i),localStorage.setItem("purchasedProducts",JSON.stringify(c))}}};r.default=n},{"../common/navbar/Minicart":4,"../utils/helpers":10}],9:[function(e,t,r){"use strict";var n=s(e("./common/navbar/Navbar")),a=s(e("./common/footer/Footer")),o=s(e("./components/ImagesSlider")),c=s(e("./components/ProductsSlider"));function s(e){return e&&e.__esModule?e:{default:e}}(0,n.default)(),(0,o.default)(),(0,c.default)(),(0,a.default)()},{"./common/footer/Footer":1,"./common/navbar/Navbar":5,"./components/ImagesSlider":7,"./components/ProductsSlider":8}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toCapitalize=r.toBrReal=r.resetText=r.nameRegex=r.getTotalQuantityOf=r.getTotalOf=r.getSubtotalOf=r.getProductsWithout=r.getProductsWithName=r.getProducts=r.getProductById=r.emailRegex=void 0;r.nameRegex=/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]{3,150}$/;r.emailRegex=/^(?:[^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*|"[^\n"]+")@(?:[^<>()[\].,;:\s@"]+\.)+[^<>()[\]\.,;:\s@"]{2,63}$/i;var n=function(e){return e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")};r.resetText=n;r.toCapitalize=function(e){return e.trim().toLowerCase().replace(/^\w/,function(e){return e.toUpperCase()})};r.toBrReal=function(e){return e=Number(e)/100,Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2})};r.getProducts=function(){return fetch("https://corebiz-test.herokuapp.com/api/v1/products").then(function(e){return e.json()}).then(function(e){return e})};r.getProductsWithName=function(e,r){return e.filter(function(e){var t=e.productName;return n(t).includes(r)})};r.getProductById=function(e,t){return e.find(function(e){return String(e.productId)===String(t)})};r.getProductsWithout=function(e,t){return e.filter(function(e){return String(e.productId)!==String(t)})};r.getTotalQuantityOf=function(e){return e.map(function(e){var t=e.quantity;return Number(t)}).reduce(function(e,t){return e+t},0)};r.getSubtotalOf=function(e){return e.map(function(e){var t=e.listPrice,r=e.quantity,n=e.price;return t?Number(t)*Number(r):Number(n)*Number(r)}).reduce(function(e,t){return e+t},0)};r.getTotalOf=function(e){return e.map(function(e){var t=e.price,r=e.quantity;return Number(t)*Number(r)}).reduce(function(e,t){return e+t},0)}},{}]},{},[9]);
//# sourceMappingURL=index.min.js.map
