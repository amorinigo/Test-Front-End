!function s(o,i,c){function u(t,e){if(!i[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=i[t]={exports:{}};o[t][0].call(a.exports,function(e){return u(o[t][1][e]||e)},a,a.exports,s,o,i,c)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,a=(n=e("./Newsletter"))&&n.__esModule?n:{default:n};var s=function(){(0,a.default)()};r.default=s},{"./Newsletter":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=e("../../utils/helpers"),n=function(){try{!function(){var a=document.querySelector(".footer .newsletter .newsletter__form"),t=a.querySelector('button[type="submit"]');a.addEventListener("submit",function(e){return r(e)});var r=function(e){e.preventDefault();var t=Object.fromEntries(new FormData(e.target)),r=s(t),n=r.isValidForm,a=r.errors;o(!0),i(a),n?c(t):o(!1)},s=function(e){var t,r,n=null===(t=e.name)||void 0===t?void 0:t.toLowerCase().trim(),a=null===(r=e.email)||void 0===r?void 0:r.toLowerCase().trim(),s=JSON.parse(localStorage.getItem("emailsSentNL"))||[],o=u.nameRegex.test(n),i=u.emailRegex.test(a),c=s&&!s.includes(a);return{isValidForm:o&&i&&c,errors:{name:!o,email:!i,uniqueEmail:!c}}},o=function(e){e?(t.setAttribute("disabled","true"),t.classList.add("loading")):(t.removeAttribute("disabled"),t.classList.remove("loading"))},i=function(e){var t=a.querySelector(".newsletter__form-field.name"),r=a.querySelector(".newsletter__form-field.email"),n=a.nextElementSibling.querySelector(".msg.email");null!=e&&e.name?t.classList.add("is-error"):t.classList.remove("is-error"),null!=e&&e.email?r.classList.add("is-error"):r.classList.remove("is-error"),null!=e&&e.uniqueEmail?n.classList.add("is-error"):n.classList.remove("is-error")},c=function(e){var r={email:e.email.trim(),name:e.name.trim()},t={method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",redirect:"manual"}};fetch("https://corebiz-test.herokuapp.com/api/v1/newsletter",t).then(function(e){return e.json()}).then(function(e){if("error"===e.status)n("error");else{n("success");var t=JSON.parse(localStorage.getItem("emailsSentNL"))||[];t.push(r.email),localStorage.setItem("emailsSentNL",JSON.stringify(t))}}).catch(function(e){console.log(e),n("error")})},n=function(e){var t=a.nextElementSibling.querySelector(".msg.success"),r=a.nextElementSibling.querySelector(".msg.error");"success"===e?(t.classList.add("show"),r.classList.remove("show"),setTimeout(function(){return t.classList.remove("show")},3e3)):(r.classList.add("show"),t.classList.remove("show"),setTimeout(function(){return r.classList.remove("show")},3e3)),o(!1),a.reset()}}()}catch(e){console.log(e)}};r.default=n},{"../../utils/helpers":10}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(){var r=document.querySelector(".navbar .menu");try{document.querySelector(".navbar .menu .menu__icon").addEventListener("click",function(){return r.classList.toggle("active")})}catch(e){console.log(e)}try{document.querySelector(".navbar .menu .menu__content").addEventListener("click",function(e){var t=e.target;(t.classList.contains("menu__content")||t.classList.contains("menu__sidenav-icon"))&&r.classList.remove("active")})}catch(e){console.log(e)}};r.default=n},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.updateMinicart=r.default=void 0;var u=e("../../utils/helpers"),n=function(){var t,e=document.querySelector(".minicart__sidenav .minicart__sidenav-body"),r=JSON.parse(localStorage.getItem("purchasedProducts"))||[];0===r.length?(e.classList.remove("show-products"),e.classList.add("show-msg")):((t=e.querySelector(".minicart__products")).innerHTML="",r.reverse().forEach(function(e){t.innerHTML+='\n                <div class="minicart__product">\n                    <div class="minicart__product-thumbnail">\n                        <img alt="'.concat(e.productName,'" src="').concat(e.imageUrl,'" class="minicart__product-img" />\n                    </div>\n\n                    <div class="minicart__product-info">\n                        <div class="info-top">\n                            <p class="name">\n                                <span>').concat(e.productName,'</span>\n                                <span class="units">').concat(e.quantity,' U.</span>\n                            </p>\n                            <i class="icon-trash" style="display: none;" data-productid="').concat(e.productId,'"></i>\n                        </div>\n\n                        <span class="info-prices">\n                            ').concat(e.listPrice?'<em class="old-price">'.concat((0,u.toBrReal)(e.listPrice),"</em>"):"",'\n                            <em class="best-price">').concat((0,u.toBrReal)(e.price),"</em>\n                        </span>\n                    </div>\n                </div>\n            ")}),e.classList.remove("show-msg"),e.classList.add("show-products"));var n,a;n=document.querySelector(".minicart .minicart__icon .minicart__quantity"),a=r.map(function(e){var t=e.quantity;return Number(t)}).reduce(function(e,t){return e+t},0),n.textContent=99<a?"+99":a;var s,o,i,c;s=document.querySelector(".sidenav-footer__subtotal .number"),o=document.querySelector(".sidenav-footer__total .number"),i=r.map(function(e){var t=e.listPrice,r=e.quantity,n=e.price;return t?Number(t)*Number(r):Number(n)*Number(r)}).reduce(function(e,t){return e+t},0),c=r.map(function(e){var t=e.price,r=e.quantity;return Number(t)*Number(r)}).reduce(function(e,t){return e+t},0),s.textContent=(0,u.toBrReal)(i),o.textContent=(0,u.toBrReal)(c)};r.updateMinicart=n;var a=function(){n()};r.default=a},{"../../utils/helpers":10}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./Menu")),a=o(e("./Minicart")),s=o(e("./Searcher"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){(0,n.default)(),(0,s.default)(),(0,a.default)()};r.default=i},{"./Menu":3,"./Minicart":4,"./Searcher":6}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("../../utils/helpers"),n=function(){try{!function(){var r,e=document.querySelector(".searcher__form .searcher__form-input"),t=document.querySelector(".searcher .searcher__modal");e.addEventListener("input",function(){return e=n,t=500,window.clearTimeout(r),void(r=window.setTimeout(e,t));var e,t},!1);var n=function(){var t=(0,i.resetText)(e.value);""!==t?fetch("https://corebiz-test.herokuapp.com/api/v1/products").then(function(e){return e.json()}).then(function(e){return a(e,t)}).catch(function(e){return a([])}):s("any")},a=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=e.filter(function(e){var t=e.productName;return(0,i.resetText)(t).includes(r)});0<t.length?(o(t),s("results")):s("message")},s=function(e){switch(e){case"results":t.classList.remove("show-message"),t.classList.add("show-results");break;case"message":t.classList.remove("show-results"),t.classList.add("show-message");break;case"any":t.classList.remove("show-message"),t.classList.remove("show-results");break;default:t.classList.remove("show-message"),t.classList.remove("show-results")}},o=function(e){var a=document.querySelector(".searcher__modal-results .modal-results__products");a.innerHTML="",e.forEach(function(e){var t=e.imageUrl,r=e.productName,n=(0,i.toCapitalize)(r);a.innerHTML+='\n                    <a class="product" href="#">\n                        <div class="product__thumbnail">\n                            <img src="'.concat(t,'" alt="').concat(n,'" class="product__thumbnail-img" />\n                        </div>\n\n                        <span class="product__name">').concat(n,"</span>\n                    </a>\n                ")})}}()}catch(e){}try{!function(){var o=document.querySelector(".searcher .searcher__form"),e=document.querySelector(".searcher__modal .modal-results__button");o.addEventListener("submit",function(e){return t(e)}),e.addEventListener("click",function(e){return t(e)});var t=function(e){var t,r,n;e.preventDefault();var a=null===(t=o.querySelector(".searcher__form-input"))||void 0===t?void 0:null===(r=t.value)||void 0===r?void 0:null===(n=r.trim())||void 0===n?void 0:n.toLowerCase();if(""!==a){var s="".concat(location.origin,"/?search=").concat(a);location.href=s}}}()}catch(e){}};r.default=n},{"../../utils/helpers":10}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=e("../common/navbar/Minicart"),n=e("../utils/helpers"),a=function(){var t;try{t=document.querySelector(".products-slider__swiper .swiper-wrapper"),fetch("https://corebiz-test.herokuapp.com/api/v1/products").then(function(e){return e.json()}).then(function(e){e.forEach(function(e){t.innerHTML+='\n                        <div class="swiper-slide">\n                            <div class="card">\n                                <div class="card__top">\n                                    <a class="card__thumbnail" href="#">\n                                        <img src="'.concat(e.imageUrl,'" class="card__img" alt="').concat((0,n.toCapitalize)(e.productName),'" />\n\n                                        ').concat(e.listPrice?'<span class="discount">Off</span>':"",'\n                                    </a>\n\n                                    <div class="card__content">\n                                        <h6 class="card__product-name">').concat((0,n.resetText)(e.productName),'</h6>\n                                        <span class="card__product-stars stars-').concat(e.stars,'"></span>\n                                        <div class="prices">\n                                            ').concat(e.listPrice?'<span class="old-price">de '.concat((0,n.toBrReal)(e.listPrice).replace("R",""),"</span>"):"",'\n                                            <span class="final-price">por ').concat((0,n.toBrReal)(e.price).replace("R",""),"</span>\n                                        </div>\n                                        ").concat(0<e.installments.length?'\n                                            <span class="installments">\n                                                ou em '.concat(e.installments[0].quantity,"x de ").concat((0,n.toBrReal)(e.installments[0].value),"\n                                            </span>\n                                            "):"",'\n                                    </div>\n                                </div>\n\n                                <span class="card__button dark-button" data-productId="').concat(e.productId,'">\n                                    Comprar\n                                </span>\n                            </div>\n                        </div>\n                    ')}),new Swiper(".swiper.products-slider__swiper",{pagination:{el:".products-swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1,spaceBetween:30,breakpoints:{380:{slidesPerView:2},600:{slidesPerView:3},1100:{slidesPerView:4,spaceBetween:99}}}),t.parentElement.classList.add("finished"),r()}).catch(function(e){return console.log(e)})}catch(e){console.log(e)}var r=function(){Array.from(document.querySelectorAll(".card span.card__button")).forEach(function(e){e.addEventListener("click",function(e){return t(e)})});var t=function(r){r.target.parentElement.classList.add("loading");var n=r.target.dataset.productid;fetch("https://corebiz-test.herokuapp.com/api/v1/products").then(function(e){return e.json()}).then(function(e){var t=e.find(function(e){return String(e.productId)===String(n)});a(t),(0,s.updateMinicart)(),r.target.parentElement.classList.remove("loading")})},a=function(e){var t,r=e.imageUrl,n=e.price,a=e.listPrice,s=e.productId,o=e.productName,i=JSON.parse(localStorage.getItem("purchasedProducts"))||[],c=null===(t=i)||void 0===t?void 0:t.find(function(e){return String(e.productId)===String(s)});(i=i.filter(function(e){return String(e.productId)!==String(s)})).push({imageUrl:r,price:n,listPrice:a,productId:s,productName:o,quantity:c?Number(null==c?void 0:c.quantity)+1:1}),localStorage.setItem("purchasedProducts",JSON.stringify(i))}}};r.default=a},{"../common/navbar/Minicart":4,"../utils/helpers":10}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(){new Swiper(".swiper.main-slider",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0}})};r.default=n},{}],9:[function(e,t,r){"use strict";var n=i(e("./common/navbar/Navbar")),a=i(e("./common/footer/Footer")),s=i(e("./components/Slider")),o=i(e("./components/Products"));function i(e){return e&&e.__esModule?e:{default:e}}(0,n.default)(),(0,s.default)(),(0,o.default)(),(0,a.default)()},{"./common/footer/Footer":1,"./common/navbar/Navbar":5,"./components/Products":7,"./components/Slider":8}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toCapitalize=r.toBrReal=r.resetText=r.nameRegex=r.emailRegex=void 0;r.nameRegex=/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]{3,150}$/;r.emailRegex=/^(?:[^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*|"[^\n"]+")@(?:[^<>()[\].,;:\s@"]+\.)+[^<>()[\]\.,;:\s@"]{2,63}$/i;r.resetText=function(e){return e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")};r.toCapitalize=function(e){return e.trim().toLowerCase().replace(/^\w/,function(e){return e.toUpperCase()})};r.toBrReal=function(e){return e=Number(e)/100,Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2})}},{}]},{},[9]);
//# sourceMappingURL=index.min.js.map
